import{a as O,c as T,o as h,k as $,n as v,p as ke,m as E,V as Oe,B as D,Y as b,r as d,F as t,q as N,v as g,$ as Z,a2 as Ee,U as we,s as M,ad as F,a1 as Ve,t as ze,O as S,a0 as Be,L as Ne,ag as Me,M as ye,N as Ce,T as je,_ as He}from"./index-d1cde4b6.js";import{_ as V,g as B,i as Te,S as Le,E as Re,T as Pe,u as G,I as Ae,B as De,a as Fe,s as Ze,b as Ge}from"./index-dbb9c178.js";import{E as Se,g as xe}from"./el-button-2c19bbef.js";import{f as We}from"./index-5f86f2af.js";import"./base-361a4e37.js";import"./_plugin-vue_export-helper-9c88e07d.js";import"./formatTime-47d7a857.js";import"./index-1a999d8d.js";import"./_commonjsHelpers-de833af9.js";const qe=O({name:"IconMore",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:n}){const o=B("icon"),l=T(()=>[o,`${o}-more`,{[`${o}-spin`]:e.spin}]),a=T(()=>{const i={};return e.size&&(i.fontSize=Te(e.size)?`${e.size}px`:e.size),e.rotate&&(i.transform=`rotate(${e.rotate}deg)`),i});return{cls:l,innerStyle:a,onClick:i=>{n("click",i)}}}}),Ue=["stroke-width","stroke-linecap","stroke-linejoin"],Ye=E("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z",fill:"currentColor",stroke:"none"},null,-1),Ke=E("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z"},null,-1),Je=[Ye,Ke];function Qe(e,n,o,l,a,c){return h(),$("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:v(e.cls),style:ke(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:n[0]||(n[0]=(...i)=>e.onClick&&e.onClick(...i))},Je,14,Ue)}var H=V(qe,[["render",Qe]]);const Xe=Object.assign(H,{install:(e,n)=>{var o;const l=(o=n==null?void 0:n.iconPrefix)!=null?o:"";e.component(l+H.name,H)}}),x=Symbol("ArcoDropdown"),_e=O({name:"DropdownPanel",components:{Scrollbar:Le,Empty:Re},props:{loading:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},bottomOffset:{type:Number,default:0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]}},emits:["scroll","reachBottom"],setup(e,{emit:n,slots:o}){const l=B("dropdown"),a=Oe(x,{}),c=D(),i=p=>{const{scrollTop:s,scrollHeight:k,offsetHeight:w}=p.target;k-(s+w)<=e.bottomOffset&&n("reachBottom",p),n("scroll",p)},u=T(()=>{if(Te(a.popupMaxHeight))return{maxHeight:`${a.popupMaxHeight}px`};if(!a.popupMaxHeight)return{maxHeight:"none",overflowY:"hidden"}}),m=T(()=>[l,{[`${l}-has-footer`]:!!o.footer}]);return{prefixCls:l,cls:m,style:u,wrapperRef:c,handleScroll:i}}});function et(e,n,o,l,a,c){const i=b("empty"),u=b("Scrollbar");return h(),$("div",{class:v(e.cls)},[e.isEmpty?(h(),$("div",{key:0,class:v(`${e.prefixCls}-empty`)},[d(e.$slots,"empty",{},()=>[t(i)])],2)):N("v-if",!0),t(u,{ref:"wrapperRef",class:v(`${e.prefixCls}-list-wrapper`),style:ke(e.style),onScroll:e.handleScroll},{default:g(()=>[E("ul",{class:v(`${e.prefixCls}-list`)},[d(e.$slots,"default")],2)]),_:3},8,["class","style","onScroll"]),e.$slots.footer&&!e.isEmpty?(h(),$("div",{key:1,class:v(`${e.prefixCls}-footer`)},[d(e.$slots,"footer")],2)):N("v-if",!0)],2)}var Ie=V(_e,[["render",et]]);const tt=O({name:"Dropdown",components:{Trigger:Pe,DropdownPanel:Ie},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"bottom"},popupContainer:{type:[String,Object]},popupMaxHeight:{type:[Boolean,Number],default:!0},hideOnSelect:{type:Boolean,default:!0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,select:(e,n)=>!0},setup(e,{emit:n}){const{defaultPopupVisible:o,popupVisible:l,popupMaxHeight:a}=Z(e),c=B("dropdown"),{computedPopupVisible:i,handlePopupVisibleChange:u}=G({defaultPopupVisible:o,popupVisible:l,emit:n});return Ee(x,we({popupMaxHeight:a,onOptionClick:(p,s)=>{n("select",p,s),e.hideOnSelect&&u(!1)}})),{prefixCls:c,computedPopupVisible:i,handlePopupVisibleChange:u}}});function ot(e,n,o,l,a,c){const i=b("DropdownPanel"),u=b("Trigger");return h(),M(u,{"popup-visible":e.computedPopupVisible,"animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"",trigger:e.trigger,position:e.position,"popup-offset":4,"popup-container":e.popupContainer,"opened-class":`${e.prefixCls}-open`,onPopupVisibleChange:e.handlePopupVisibleChange},{content:g(()=>[t(i,null,F({default:g(()=>[d(e.$slots,"content")]),_:2},[e.$slots.footer?{name:"footer",fn:g(()=>[d(e.$slots,"footer")])}:void 0]),1024)]),default:g(()=>[d(e.$slots,"default")]),_:3},8,["popup-visible","trigger","position","popup-container","opened-class","onPopupVisibleChange"])}var z=V(tt,[["render",ot]]);const nt=O({name:"Doption",props:{value:{type:[String,Number,Object]},disabled:{type:Boolean,default:!1},active:Boolean,uninjectContext:Boolean},emits:{click:e=>!0},setup(e,{emit:n}){const o=B("dropdown-option"),l=D(),a=T(()=>{var m,p,s;return(s=(p=e.value)!=null?p:(m=l.value)==null?void 0:m.textContent)!=null?s:void 0}),c=e.uninjectContext?void 0:Oe(x,void 0),i=m=>{e.disabled||(n("click",m),c==null||c.onOptionClick(a.value,m))},u=T(()=>[o,{[`${o}-disabled`]:e.disabled,[`${o}-active`]:e.active}]);return{prefixCls:o,cls:u,liRef:l,handleClick:i}}});function it(e,n,o,l,a,c){return h(),$("li",{ref:"liRef",class:v([e.cls,{[`${e.prefixCls}-has-suffix`]:!!e.$slots.suffix}]),onClick:n[0]||(n[0]=(...i)=>e.handleClick&&e.handleClick(...i))},[e.$slots.icon?(h(),$("span",{key:0,class:v(`${e.prefixCls}-icon`)},[d(e.$slots,"icon")],2)):N("v-if",!0),E("span",{class:v(`${e.prefixCls}-content`)},[d(e.$slots,"default")],2),e.$slots.suffix?(h(),$("span",{key:1,class:v(`${e.prefixCls}-suffix`)},[d(e.$slots,"suffix")],2)):N("v-if",!0)],2)}var I=V(nt,[["render",it]]);const lt=O({name:"Dgroup",props:{title:String},setup(){return{prefixCls:B("dropdown-group")}}});function st(e,n,o,l,a,c){return h(),$(S,null,[E("li",{class:v(`${e.prefixCls}-title`)},[d(e.$slots,"title",{},()=>[Ve(ze(e.title),1)])],2),d(e.$slots,"default")],64)}var L=V(lt,[["render",st]]);const at=O({name:"Dsubmenu",components:{Trigger:Pe,DropdownPanel:Ie,DropdownOption:I,IconRight:Ae},props:{value:{type:[String,Number]},disabled:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"rt"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},optionProps:{type:Object}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:n}){const{defaultPopupVisible:o,popupVisible:l}=Z(e),a=B("dropdown"),{computedPopupVisible:c,handlePopupVisibleChange:i}=G({defaultPopupVisible:o,popupVisible:l,emit:n});return{prefixCls:a,computedPopupVisible:c,handlePopupVisibleChange:i}}});function rt(e,n,o,l,a,c){const i=b("IconRight"),u=b("dropdown-option"),m=b("dropdown-panel"),p=b("Trigger");return h(),M(p,{"popup-visible":e.computedPopupVisible,trigger:e.trigger,position:e.position,disabled:e.disabled,"popup-offset":4,onPopupVisibleChange:e.handlePopupVisibleChange},{content:g(()=>[t(m,{class:v(`${e.prefixCls}-submenu`)},F({default:g(()=>[d(e.$slots,"content")]),_:2},[e.$slots.footer?{name:"footer",fn:g(()=>[d(e.$slots,"footer")])}:void 0]),1032,["class"])]),default:g(()=>[t(u,Be(e.optionProps,{active:e.computedPopupVisible,"uninject-context":""}),F({suffix:g(()=>[d(e.$slots,"suffix",{},()=>[t(i)])]),default:g(()=>[d(e.$slots,"default")]),_:2},[e.$slots.icon?{name:"icon",fn:g(()=>[d(e.$slots,"icon")])}:void 0]),1040,["active"])]),_:3},8,["popup-visible","trigger","position","disabled","onPopupVisibleChange"])}var R=V(at,[["render",rt]]);const pt=O({name:"DropdownButton",components:{IconMore:Xe,Button:De,ButtonGroup:Fe,Dropdown:z},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"br"},popupContainer:{type:[String,Object]},disabled:{type:Boolean,default:!1},type:{type:String},size:{type:String},buttonProps:{type:Object},hideOnSelect:{type:Boolean,default:!0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,click:e=>!0,select:(e,n)=>!0},setup(e,{emit:n}){const{defaultPopupVisible:o,popupVisible:l}=Z(e),a=B("dropdown"),{computedPopupVisible:c,handlePopupVisibleChange:i}=G({defaultPopupVisible:o,popupVisible:l,emit:n});return{prefixCls:a,computedPopupVisible:c,handleClick:p=>{n("click",p)},handleSelect:(p,s)=>{n("select",p,s)},handlePopupVisibleChange:i}}});function ct(e,n,o,l,a,c){const i=b("Button"),u=b("IconMore"),m=b("Dropdown"),p=b("ButtonGroup");return h(),M(p,null,{default:g(()=>[t(i,Be({size:e.size,type:e.type,disabled:e.disabled},e.buttonProps,{onClick:e.handleClick}),{default:g(()=>[d(e.$slots,"default")]),_:3},16,["size","type","disabled","onClick"]),t(m,{"popup-visible":e.computedPopupVisible,trigger:e.trigger,position:e.position,"popup-container":e.popupContainer,"hide-on-select":e.hideOnSelect,onSelect:e.handleSelect,onPopupVisibleChange:e.handlePopupVisibleChange},{content:g(()=>[d(e.$slots,"content")]),default:g(()=>[t(i,{size:e.size,type:e.type,disabled:e.disabled},{icon:g(()=>[d(e.$slots,"icon",{popupVisible:e.computedPopupVisible},()=>[t(u)])]),_:3},8,["size","type","disabled"])]),_:3},8,["popup-visible","trigger","position","popup-container","hide-on-select","onSelect","onPopupVisibleChange"])]),_:3})}var A=V(pt,[["render",ct]]);const $e=Object.assign(z,{Option:I,Group:L,Submenu:R,Button:A,install:(e,n)=>{Ze(e,n);const o=Ge(n);e.component(o+z.name,z),e.component(o+I.name,I),e.component(o+L.name,L),e.component(o+R.name,R),e.component(o+A.name,A)}});const ut="_leftIcon_1klaf_5",dt="_rightIcon_1klaf_13",ft="_Tag_1klaf_21",gt="_state_1klaf_45",mt="_editState_1klaf_70",vt="_editStateSolid_1klaf_116",bt="_editStateDoptionSolid_1klaf_167",ht="_editStateDoption_1klaf_167",yt="_notes_1klaf_265",Ct="_suffix_1klaf_308",C={leftIcon:ut,rightIcon:dt,Tag:ft,state:gt,editState:mt,editStateSolid:vt,"arco-btn-text":"_arco-btn-text_1klaf_82",editStateDoptionSolid:bt,editStateDoption:ht,notes:yt,suffix:Ct},St="/assets/unNote-ac5bd714.png",Et={__name:"custom-table-item",props:Ne(["prop","title","width","fixed","sortable","type","iconOption","leftTagOption","rightTagOption","stateOption","stateIcon","editStateType","noteList"],{type:"text"}),setup(e,{emit:n}){const o=je(()=>He(()=>import("./index-dbb9c178.js").then(s=>s.c),["assets/index-dbb9c178.js","assets/base-361a4e37.js","assets/index-d1cde4b6.js","assets/index-52c23fce.css","assets/_plugin-vue_export-helper-9c88e07d.js","assets/base-34dba8e3.css","assets/el-button-2c19bbef.js","assets/el-button-2500b699.css","assets/formatTime-47d7a857.js","assets/index-1a999d8d.js","assets/index-5f86f2af.js","assets/_commonjsHelpers-de833af9.js","assets/index-2fabc174.css"])),l={text:"text",icon:"icon",state:"state",editState:"editState",itemState:"itemState",rightIcon:"rightIcon",leftIcon:"leftIcon",tag:"tag",operation:"operation",notes:"notes"},a={Alarm:"rgba(247, 101, 96, 1)",Warning:"rgba(255, 154, 46, 1)",Success:"rgba(35, 195, 67, 1)",Neutral:"rgba(46, 108, 228, 1)",Disabled:"rgba(130, 132, 138, 1)",Noble:"rgba(167, 126, 241, 1)"},c=n,i=D([]),u=D(""),m=()=>t(We,{prop:e.prop,label:e.title,width:e.width,fixed:e.fixed,sortable:e.sortable},{default:({row:s,$index:k})=>{var w,j,W,q,U,Y,K,J,Q,X,_,ee,te,oe,ne,ie,le,se,ae,re,pe,ce,ue,de,fe,ge,me,ve,be,he;if(i.value.push({isEdit:!1}),e.type===l.text)return s[e.prop]||"无";if(e.type===l.icon)return t(S,null,[(w=e.iconOption)!=null&&w.prop?t(S,null,[t(o,{size:(j=e.iconOption)==null?void 0:j.iconSize,name:s[(W=e.iconOption)==null?void 0:W.prop]?(q=e.iconOption)==null?void 0:q.name:(U=e.iconOption)==null?void 0:U.secondName},null)]):t(S,null,[t(o,{size:(Y=e.iconOption)==null?void 0:Y.iconSize,name:(K=e.iconOption)==null?void 0:K.name},null)])]);if(e.type===l.leftIcon)return t("div",{class:C.leftIcon},[!!s[(J=e.iconOption)==null?void 0:J.prop]&&((Q=e.iconOption)==null?void 0:Q.name)&&t(o,{size:(X=e.iconOption)==null?void 0:X.iconSize,name:(_=e.iconOption)==null?void 0:_.name},null),s[e.prop]||"无"]);if(e.type===l.rightIcon)return t("div",{class:C.rightIcon},[s[e.prop]||"无",!!s[(ee=e.iconOption)==null?void 0:ee.prop]&&((te=e.iconOption)==null?void 0:te.name)&&t(o,{size:(oe=e.iconOption)==null?void 0:oe.iconSize,name:(ne=e.iconOption)==null?void 0:ne.name},null)]);if(e.type===l.tag){const r={backgroundColor:a[(ie=e.leftTagOption)==null?void 0:ie.color]},f={border:`1px solid ${a[(le=e.rightTagOption)==null?void 0:le.color]}`,color:a[(se=e.rightTagOption)==null?void 0:se.color]};return t("div",{class:C.Tag},[!!s[(ae=e.leftTagOption)==null?void 0:ae.prop]&&((re=e.leftTagOption)==null?void 0:re.text)&&t("div",{class:"left-tag",style:((pe=e.leftTagOption)==null?void 0:pe.color)&&r},[(ce=e.leftTagOption)==null?void 0:ce.text]),s[e.prop]||"无",!!s[(ue=e.rightTagOption)==null?void 0:ue.prop]&&((de=e.rightTagOption)==null?void 0:de.text)&&t("div",{class:"right-tag",style:((fe=e.rightTagOption)==null?void 0:fe.color)&&f},[(ge=e.rightTagOption)==null?void 0:ge.text])])}else{if(e.type===l.state)return t(S,null,[(me=e.stateOption)==null?void 0:me.map((r,f)=>s[r.prop]==r.value&&t("div",{class:C.state,key:f},[s[r.prop]==r.value&&t(S,null,[t("div",{class:"circle",style:{background:a[r.color].replace("1)",".1")}},[t("span",{class:"circle",style:{background:a[r.color]}},null)]),t("div",{class:"name"},[r.name]),t(Se,{effect:"light",trigger:"click"},{default:()=>e.stateIcon&&t(o,{name:e.stateIcon},null),content:()=>p["icon-hover"]&&p["icon-hover"](s)})])]))]);if(e.type===l.editState){const r=D(!1);return t(S,null,[(ve=e.stateOption)==null?void 0:ve.map((f,P)=>s[f.prop]==f.value&&t("div",{class:e.editStateType?C.editStateSolid:C.editState,key:P,style:{backgroundColor:e.editStateType?a[f.color]:"transparent"}},[s[f.prop]==f.value&&t($e,{position:"bl","data-index":0},{default:()=>[t(De,{type:"text"},{default:()=>[t("div",{class:"content",onClick:()=>r.value=!r.value},[!e.editStateType&&t("div",{class:"circle",style:{background:a[f.color].replace("1)",".1")}},[t("span",{class:"circle",style:{background:a[f.color]}},null)]),f.name]),ye(t("i",{class:"iconfont icon-xiangshang",onClick:()=>r.value=!r.value},null),[[Ce,!r.value]]),ye(t("i",{class:"iconfont icon-xiangxia",onClick:()=>r.value=!r.value},null),[[Ce,r.value]])]})],content:()=>e.stateOption.map(y=>t("div",{class:e.editStateType?C.editStateDoptionSolid:C.editStateDoption,key:y.value},[t(I,{onClick:()=>c("editState",{row:s,it:y})},{default:()=>[t("div",{class:"item",style:{backgroundColor:e.editStateType?a[y.color]:"transparent"}},[!e.editStateType&&t("div",{class:"circle",style:{background:a[y.color].replace("1)",".1")}},[t("span",{class:"circle",style:{background:a[y.color]}},null)]),y.name]),s[y.prop]==y.value&&t("i",{class:"svg-icon iconfont icon-check"},null)]})]))})]))])}else return e.type===l.notes?t("div",{class:C.notes},[!((be=i.value[k])!=null&&be.isEdit)&&t(Se,{content:s[e.prop]},{default:()=>[t("span",{class:"span"},[s[e.prop]])]}),!!((he=i.value[k])!=null&&he.isEdit)&&t($e,{position:"bl","popup-visible":!0,"data-index":0},{default:()=>[t(xe,{placeholder:"请输入备注",modelValue:u.value,"onUpdate:modelValue":r=>u.value=r,onChange:r=>{c("changeNote",{row:s,note:r}),u.value=""}},null)],content:()=>{var r,f;return t("div",{class:C.suffix},[t("div",{class:"total"},[Ve("按“Enter”保存备注内容")]),(r=e.noteList)!=null&&r.length?t(S,null,[(f=e.noteList)==null?void 0:f.map((P,y)=>t("div",{class:"item",key:y},[t("span",{class:"cricle"},null),t("div",{class:"rightBox"},[t("div",{class:"title"},[t("div",{class:"time"},[P.time]),t("div",{class:"name"},[P.name])]),t("div",{class:"content"},[P.content])])]))]):t(S,null,[t("img",{class:"unNote",src:St,alt:"无历史备注"},null)])])}}),t("div",{class:"iconBtn",onClick:()=>{i.value.forEach((r,f)=>{k===f?r.isEdit=!r.isEdit:r.isEdit=!1})}},[i.value[k].isEdit?t("i",{class:"svg-icon iconfont icon-cancel"},null):t("i",{class:"svg-icon iconfont icon-edit"},null)])]):e.type===l.operation?p.operation&&p.operation(s):p.default&&p.default(s)}}}),p=Me();return(s,k)=>(h(),M(m))}};export{Et as default};
